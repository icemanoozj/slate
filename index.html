<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
        .highlight table td {
            padding: 5px;
        }
        
        .highlight table pre {
            margin: 0;
        }
        
        .highlight .gh {
            color: #999999;
        }
        
        .highlight .sr {
            color: #f6aa11;
        }
        
        .highlight .go {
            color: #888888;
        }
        
        .highlight .gp {
            color: #555555;
        }
        
        .highlight .gs {}
        
        .highlight .gu {
            color: #aaaaaa;
        }
        
        .highlight .nb {
            color: #f6aa11;
        }
        
        .highlight .cm {
            color: #75715e;
        }
        
        .highlight .cp {
            color: #75715e;
        }
        
        .highlight .c1 {
            color: #75715e;
        }
        
        .highlight .cs {
            color: #75715e;
        }
        
        .highlight .c,
        .highlight .cd {
            color: #75715e;
        }
        
        .highlight .err {
            color: #960050;
        }
        
        .highlight .gr {
            color: #960050;
        }
        
        .highlight .gt {
            color: #960050;
        }
        
        .highlight .gd {
            color: #49483e;
        }
        
        .highlight .gi {
            color: #49483e;
        }
        
        .highlight .ge {
            color: #49483e;
        }
        
        .highlight .kc {
            color: #66d9ef;
        }
        
        .highlight .kd {
            color: #66d9ef;
        }
        
        .highlight .kr {
            color: #66d9ef;
        }
        
        .highlight .no {
            color: #66d9ef;
        }
        
        .highlight .kt {
            color: #66d9ef;
        }
        
        .highlight .mf {
            color: #ae81ff;
        }
        
        .highlight .mh {
            color: #ae81ff;
        }
        
        .highlight .il {
            color: #ae81ff;
        }
        
        .highlight .mi {
            color: #ae81ff;
        }
        
        .highlight .mo {
            color: #ae81ff;
        }
        
        .highlight .m,
        .highlight .mb,
        .highlight .mx {
            color: #ae81ff;
        }
        
        .highlight .sc {
            color: #ae81ff;
        }
        
        .highlight .se {
            color: #ae81ff;
        }
        
        .highlight .ss {
            color: #ae81ff;
        }
        
        .highlight .sd {
            color: #e6db74;
        }
        
        .highlight .s2 {
            color: #e6db74;
        }
        
        .highlight .sb {
            color: #e6db74;
        }
        
        .highlight .sh {
            color: #e6db74;
        }
        
        .highlight .si {
            color: #e6db74;
        }
        
        .highlight .sx {
            color: #e6db74;
        }
        
        .highlight .s1 {
            color: #e6db74;
        }
        
        .highlight .s {
            color: #e6db74;
        }
        
        .highlight .na {
            color: #a6e22e;
        }
        
        .highlight .nc {
            color: #a6e22e;
        }
        
        .highlight .nd {
            color: #a6e22e;
        }
        
        .highlight .ne {
            color: #a6e22e;
        }
        
        .highlight .nf {
            color: #a6e22e;
        }
        
        .highlight .vc {
            color: #ffffff;
        }
        
        .highlight .nn {
            color: #ffffff;
        }
        
        .highlight .nl {
            color: #ffffff;
        }
        
        .highlight .ni {
            color: #ffffff;
        }
        
        .highlight .bp {
            color: #ffffff;
        }
        
        .highlight .vg {
            color: #ffffff;
        }
        
        .highlight .vi {
            color: #ffffff;
        }
        
        .highlight .nv {
            color: #ffffff;
        }
        
        .highlight .w {
            color: #ffffff;
        }
        
        .highlight {
            color: #ffffff;
        }
        
        .highlight .n,
        .highlight .py,
        .highlight .nx {
            color: #ffffff;
        }
        
        .highlight .ow {
            color: #f92672;
        }
        
        .highlight .nt {
            color: #f92672;
        }
        
        .highlight .k,
        .highlight .kv {
            color: #f92672;
        }
        
        .highlight .kn {
            color: #f92672;
        }
        
        .highlight .kp {
            color: #f92672;
        }
        
        .highlight .o {
            color: #f92672;
        }
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="stylesheets/mermaid.css" rel="stylesheet" media="print" />
    <script src="javascripts/mermaid.js"></script>
    <script src="javascripts/all.js"></script>
</head>

<body class="index" data-languages="[&quot;json&quot;,&quot;shell&quot;,&quot;java&quot;,&quot;php&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
        <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
            <a href="#" data-language-name="json">JSON</a>
            <a href="#" data-language-name="shell">cURL</a>
            <a href="#" data-language-name="java">Java</a>
            <a href="#" data-language-name="php">PHP</a>
            <a href="#" data-language-name="csharp">C#</a>
        </div>
        <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
        <div id="toc">
        </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">

            <h1 id="1-overview">1. Overview</h1>

            <p>The UMF REST API uses HTTP methods and a RESTful endpoint structure. The API authorization framework is OAuth 2.0. Merchant format requests in JSON and the APIs return JSON-formatted responses.</p>

            <aside class="notice">
                Important: You cannot run the sample requests in this guide as-is. Replace call-specific parameters, such as tokens and IDs, with your own values.
            </aside>

            <h2 id="1-1-api-operations">1.1. API operations</h2>
            <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CREDIT_CARD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ICBC"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"order_summary "</span><span class="p">:</span><span class="w"> </span><span class="s2">"Macbook pro 13’ A3245"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mer_reference_id "</span><span class="p">:</span><span class="w"> </span><span class="s2">"17tgs17g7987SD89SYDA8127GD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mer_date "</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170216"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expire_time "</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-17T19:20:30-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub_orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"amount"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
                </span><span class="p">},</span><span class="w">
            </span><span class="s2">"order_summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Macbook pro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trans_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01121990"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_customs"</span><span class="p">:</span><span class="w"> </span><span class="err">“TRUE”</span><span class="p">,</span><span class="w">
            </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                </span><span class="s2">" mer_item_id "</span><span class="p">:</span><span class="w"> </span><span class="s2">"2343464535"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">" ELECTRONIC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name "</span><span class="p">:</span><span class="w"> </span><span class="s2">" Macbook Pro"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description "</span><span class="p">:</span><span class="w"> </span><span class="s2">" Macbook pro 13’ A3245"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:{</span><span class="w">
                    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"notify_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/notify_url"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl -v https://api.sandbox.paypal.com/v1/payments/payment <span class="se">\</span>
-H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
-H <span class="s2">"Authorization: Bearer Access-Token"</span> <span class="se">\</span>
-d <span class="s1">'{
    "payer": {
        "payment_method": "CREDIT_CARD",
        "bank_code": "ICBC",
    },
    "order": {
        "amount":{
            "total": "1000.00",
            "Currency": "USD"
        },
        "order_summary ": "Macbook pro 13’ A3245",
        "mer_reference_id ": "17tgs17g7987SD89SYDA8127GD",
        "mer_date ": "20170216",
        "expire_time ": "2017-02-17T19:20:30-08:00",
        "sub_orders": [
            {
             "amount":{
                "total": "1000.00",
                "currency": "USD"
                },
            "order_summary": " Macbook pro",
            "trans_code": "01121990",
            "is_customs": “TRUE”,
            "items": [
                {
                " mer_item_id ": "2343464535",
                "type": " ELECTRONIC",
                "name ": " Macbook Pro",
                "description ": " Macbook pro 13’ A3245",
                "amount":{
                    "total": "1000.00",
                    "currency": "USD"
                    }
                }
                ]
            }
        ]
    },
    "notify_url": "https://www.example.com/notify_url"
}'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">abc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">();</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span> 
<span class="nv">$x</span> <span class="o">=</span> <span class="s2">"Hello world!"</span><span class="p">;</span>
<span class="nv">$y</span> <span class="o">=</span> <span class="s1">'Hello world!'</span><span class="p">;</span>

<span class="k">echo</span> <span class="nv">$x</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$y</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Hello1</span>
<span class="p">{</span>
   <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
   <span class="p">{</span>
      <span class="n">System</span><span class="p">.</span><span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre>
            <p>Use the UMF REST APIs in these environments:</p>

            <table>
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Description</th>
                        <th>Endpoint</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sandbox - China</td>
                        <td>Test. For the servers in China. Use your test client_id and client_secret to generate an access token to make calls to the Sandbox URIs.</td>
                        <td>https://uat.soopay.net</td>
                    </tr>
                    <tr>
                        <td>Live - China</td>
                        <td>Production. For the servers in China. Use your live client_id and client_secret to generate an access token to make calls to the Sandbox URIs.</td>
                        <td>https://pay.soopay.com</td>
                    </tr>
                    <tr>
                        <td>Sandbox - American</td>
                        <td>Test. For the servers in American. Use your test client_id and client_secret to generate an access token to make calls to the live URIs.</td>
                        <td>https://uatfx.soopay.net</td>
                    </tr>
                    <tr>
                        <td>Live - American</td>
                        <td>Production. For the servers in American. Use your live client_id and client_secret to generate an access token to make calls to the live URIs.</td>
                        <td>https://payfx.soopay.net</td>
                    </tr>
                </tbody>
            </table>

            <p>To construct a REST call, combine:</p>

            <ul>
                <li>The HTTP method</li>
                <li>The full URI to the resource</li>
                <li>HTTP headers</li>
                <li>The JSON-formatted payload, if required</li>
            </ul>

            <p>The Example is listed on the right.</p>

            <aside class="notice">
                Note: You can use cURL commands on the command line to try code. If needed, download cURL software. Include your own access token and payment-specific IDs for calls.
            </aside>

            <p>Merchant will get the following information after becaming the partener of UMF.</p>

            <table>
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Merchant rsa private key</td>
                        <td>For signing the request to UMFinTech</td>
                    </tr>
                    <tr>
                        <td>Merchant rsa public key</td>
                        <td>key pair of Merchant rsa private key</td>
                    </tr>
                    <tr>
                        <td>UMFinTech public key</td>
                        <td>For encrypting the sensitvie information</td>
                    </tr>
                    <tr>
                        <td>Merchant client id</td>
                        <td>For OAuth2 authentication</td>
                    </tr>
                    <tr>
                        <td>Merchant client secret</td>
                        <td>For OAuth2 authentication</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="1-2-authentication">1.2 Authentication</h2>

            <p>The UMFinTech system support OAuth2. It use <a href="https://tools.ietf.org/html/rfc6749#section-4.4">Client Credentials Grant</a> to generate access token. Each merchant has a client_id and a client_secret. Merchant use client_id and client_secret
                to get the access Token. Each request must be made over HTTPS and add access token in the http header.</p>

            <aside class="notify">
                Remember: DO NOT share your merchant ID, secret key, or bearer token with unauthorized individuals or applications; they are unique to each merchant and contain private information. Please ensure only properly authorized individuals have access to this
                information within your organization.
            </aside>

            <p>If you believe either your merchant ID, secret key, or bearer token have been compromised, please regenerate your secret key in the TMS. Once you have a new secret key, a bearer token will be automatically regenerated. Please allow 15 minutes
                for the new bearer token to propagate through the system.</p>

            <h2 id="1-3-http-request">1.3 HTTP Request</h2>

            <p>UMFinTech system support GET and POST request. </p>

            <ul>
                <li>GET: Inquiry an object or a list of objects.</li>
                <li>POST：Create or update an object. </li>
            </ul>

            <h3 id="http-head">HTTP head</h3>

            <p>To make a REST API call, you must include request headers including the Authorization header with an OAuth 2.0 access token.</p>

            <p>If the request is a post request, the request headers must include the following information:</p>

            <ul>
                <li>Content-Type: application/json</li>
                <li>Signature:<a href="#1-6-signature-and-verify-signature">SignatureOfPostBody</a></li>
            </ul>

            <h2 id="1-4-http-response">1.4 HTTP response</h2>

            <p>All the http response always is a json string. There are two parts information.</p>

            <ul>
                <li>
                    <p><strong>meta</strong>：The common information of each response. Includes response message, sign, error code etc.</p>
                </li>
                <li>
                    <p><strong>result</strong>: The object(s) of entity. The name of &ldquo;result&rdquo; is not always &ldquo;result&rdquo;, it changes by the entity type and the quantify of objects. For example: If the returned object is a payment object,
                        then the name of result definitely is a &ldquo;payment&rdquo; object, and the content is a json object of payment. If the returned objects maybe many payment objects, then the name of result is &ldquo;payments&rdquo;, and the content
                        is a json array of payment.</p>
                </li>
            </ul>

            <p>Normal response will include a [meta](#meta object, which is the common information of each response.</p>

            <h3 id="http-response-code">HTTP response code</h3>

            <table>
                <thead>
                    <tr>
                        <th>Status code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>200</td>
                        <td>Request OK</td>
                    </tr>
                    <tr>
                        <td>201</td>
                        <td>Resource created</td>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>Validation error</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized request</td>
                    </tr>
                    <tr>
                        <td>402</td>
                        <td>Failed request</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>Forbidden</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource was not found</td>
                    </tr>
                    <tr>
                        <td>50n</td>
                        <td>UMPay server error</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="1-6-signature-and-verify-signature">1.6 Signature and Verify Signature</h2>

            <p>Both private key and public key are necessary for DSA or RSA signature. Both private key and public key are generated with OPENSSL by UMFinTech. UMFinTech will send the SSL key pair to partner. Therefore, partner uses Alipay public key and
                partner private key.</p>

            <h3 id="sign-for-request">Sign for request</h3>

            <p>All the post request should have a http head of &lsquo;Signature&rsquo;. The content of post should be a JSON string. The partner private key and the JSON string are used in the RSA signature algorithm by the RSA signature function to get
                the result string. (the value is given to http header &ldquo;Signature&rdquo;).</p>

            <p>For Example:</p>

            <p><code class="prettyprint">Signature:AWD234SDKEBuYviyhggoopDOUEFLKDSJFI7655DFDFOIUOIulkjj</code></p>

            <h3 id="signature-verification-for-response">Signature Verification for response</h3>

            <p>After receiving the response JSON string during responding from UMFinTech system, the result and the parameter “sign” are used in the RSA or DSA signature asymmetric algorithm by the RSA or DSA signature function to accomplish the signature
                verification.
            </p>

            <p>Due to the Chinese Sign when request When the character string to be signed at request is obtained, convert the character string to bytes in GBK encoding. 2.RSA encrypt the bytes with UMPay public key. 3.Use BASE64 encode bytes to string.</p>

            <p>Signature verification When the character string to be signed and notified to return is obtained, input the character string to be signed, public key provided by the platform, and the sign value in the return parameter noticed by the platform
                into the RSA function signature for asymmetric signature calculation, to determine whether the signature is verified. </p>

            <h2 id="1-7-encript-of-sensitive-information">1.7 Encript of sensitive information</h2>

            <p>All the sensitive information should be encrypt in the http request. The sensitive information includes:</p>

            <ul>
                <li>bank card number</li>
                <li>card holder&rsquo;s name</li>
                <li>cvv2</li>
                <li>expire (only avaliable for credit card)</li>
                <li>citizen ID number (Chinese only)</li>
                <li>phone number</li>
            </ul>

            <h3 id="encrypt-algorithm">Encrypt algorithm</h3>

            <p>String -&gt; Bytes(UTF-8 decode) -&gt; Bytes(RSA encrypt by UMFinTech public key) -&gt; String(Base64 encode)</p>

            <h2 id="1-8-date-and-time-format">1.8 Date and time format</h2>

            <p>All the Date and DateTime in UMFinTech system are formated by <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO8601</a>.</p>

            <h3 id="datetime-format">DateTime format</h3>

            <p><strong>YYYY-MM-DDThh:mm:ssTZD</strong></p>

            <p>For example:
                <code class="prettyprint">2016-07-16T19:20:30+01:00</code></p>

            <h3 id="date-format">Date format</h3>

            <p><strong>YYYYMMDD</strong></p>

            <p>For example: <code class="prettyprint">20160716</code></p>

            <h1 id="2-tutorials">2. Tutorials</h1>

            <h2 id="2-1-first-call">2.1 First Call</h2>

            <p>请先阅读接口指导说明，我们在本节将给出UMF接口整理调用关系图，可以根据需要查看具体接口。</p>

            <div class="mermaid">
              sequenceDiagram
            　　　商户-->>UMF:向UMF发起业务开通申请（提交公司材料供UMF审核）　　
            　　　     Note right of UMF:UMF审核通过后，为商户开通联调环境，分配：client_id、client_secret
            　　　UMF-->>商户:告知client_id、client_secret
                 商户-->>UMF: 获取Access Token
            　　　UMF-->>商户: 返回access_token
                     Note right of 商户:商户使用token调用后续接口
                 test1-->>UMF: hi
                 test1 -->> test2: just a test
                 test2-->> UMF: another test.
            </div>

            <p>调用UMF REST请求说明:</p>

            <h2 id="2-2-pay-by-bank-card-of-union-pay">2.2 Pay by bank card of Union pay</h2>

            <h2 id="2-3-pay-by-wechat-pay">2.3 Pay by Wechat pay</h2>

            <h2 id="2-4-pay-by-wechat-pay-in-apps">2.4 Pay by Wechat pay in Apps</h2>

            <h2 id="2-5-refund">2.5 Refund</h2>

            <h2 id="2-6-query">2.6 Query</h2>

            <h1 id="3-reference">3. Reference</h1>

            <h2 id="3-1-get-an-access-token">3.1 Get an access token</h2>
            <pre class="highlight json tab-json"><code><span class="err">//request</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6bf3b12b9159f55e3863204ac06f19b7a076cfc9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2dbfedf52da5036bde758189b1d27ebc1858655e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//response</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
 </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46bc277fc209a1cf129ba020b26b6d33a11de962645423faf9c71b8b1799ce72"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>curl -v -X POST https://uatfx.soopay.net/v1/oauth/authorize <span class="se">\</span>
-H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
-d <span class="s1">'{
    "client_id": "6bf3b12b9159f55e3863204ac06f19b7a076cfc9",
    "client_secret": "2dbfedf52da5036bde758189b1d27ebc1858655e",
    "grant_type": "client_credentials",
}'</span>

//response
<span class="o">{</span>
 <span class="s2">"expires_in"</span>: 3600,
 <span class="s2">"access_token"</span>: <span class="s2">"46bc277fc209a1cf129ba020b26b6d33a11de962645423faf9c71b8b1799ce72"</span>
<span class="o">}</span>

</code></pre>
            <p>Make a /oauth/authorize call with your app&rsquo;s OAuth client_id and secret keys for an access token. Set content-type in the request to <strong>application/json</strong>. In the request body, set grant_type to client_credentials. </p>

            <h3 id="request">Request</h3>

            <p><strong>POST</strong>: /oauth/authorize</p>

            <p>Every request must have access_token in the the http request head. This interface returns a access_token of current_user. Each token have an expires_in parameter which means this token only avaliable during this period. But if user apply a
                new access_token, the old one will be disabled immediately.</p>

            <p>Parameters:</p>

            <table>
                <thead>
                    <tr>
                        <th>Paramter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>client_id</td>
                        <td>The client identifier issued to the merchant.</td>
                    </tr>
                    <tr>
                        <td>client_secret</td>
                        <td>The secret of client issued to the merchant.</td>
                    </tr>
                    <tr>
                        <td>grant_type</td>
                        <td>The type of OAuth authentication request. For this scenario, it must be <strong>&ldquo;client_credentials&rdquo;</strong> .</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response is a json format string. It include the access_token and expires_in. </p>

            <p>Response:</p>

            <table>
                <thead>
                    <tr>
                        <th>Paramter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>expires_in</td>
                        <td>The remaining lifetime of the access token.</td>
                    </tr>
                    <tr>
                        <td>access_token</td>
                        <td>The access_token.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-2-query-available-banks">3.2 Query available banks</h2>
            <pre class="highlight shell tab-shell"><code><span class="c"># Request</span>
curl -v -X GET <span class="se">\</span>
https://uatfx.paysoo.com/rest/v1/bank?type<span class="o">=</span>CREDIT_CARD
</code></pre><pre class="highlight json tab-json"><code><span class="err">//Response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ret_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ret_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megf8eerjlskdjfalkkuiUUIH"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"banks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Industrial and Commercial Bank of China"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ICBC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CREDIT_CARD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DEBIT_CARD"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"China Merchants Bank"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CMB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CREDIT_CARD"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
            <h3 id="request">Request</h3>

            <p><strong>GET</strong>: /bank?type=CREDIT_CARD</p>

            <p>Each merchant can only accept bank cards that was included in the contract.</p>

            <p>This API will return the banks list that are avaliable for current merchant of the indicate type.</p>

            <h3 id="parameters">Parameters</h3>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>type</td>
                        <td>The type of bank cards. Allowed values: <strong>CREDIT_CARD</strong>, <strong>DEBIT_CARD</strong></td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response is a list of <a href="#bank">bank</a> object. See the example on the right.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>name</td>
                        <td>The full name of the bank.</td>
                    </tr>
                    <tr>
                        <td>code</td>
                        <td>The bank code inside China.</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>The supported card type of the bank.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-3-create-a-payment">3.3 Create a payment</h2>
            <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CREDIT_CARD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CCB"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payer_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"bankCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15210838198"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"mer_reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170411543977"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mer_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20170410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"order_summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maimaimai"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expire_time "</span><span class="p">:</span><span class="w"> </span><span class="s2">"360"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sub_orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mer_sub_reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04115439771"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.02"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"trans_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01121990"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub_trans_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_customs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRUE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"mer_item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"041154397711"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FOOD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yifu1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yifu1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"item_quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.02"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"mer_item_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"041154397712"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ELECTRONIC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yifu2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yifu2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"item_quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.00"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mer_sub_reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04115439772"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"trans_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03223010"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub_trans_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"notify_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://10.10.81.127:8080/spay_rest/payments/test/mer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"risk_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"trans_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"goods_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"real_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>curl -v -X POST https://uatfx.soopay.net/v1/oauth/authorize <span class="se">\</span>
-H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
-H <span class="s2">"Authorization=Bearer ea3b83b316d97bd78166475fe36a3f7219d79e8d04bfc784dec424fba0e9462f"</span> <span class="se">\</span>
-H <span class="s2">"Signature=p+owOiuS9eVrDQIHaP9CwwR89k99+6MdALuetVW9SKpBJvbvQdO8Sx8P1wlgIN9naa9YQeha/oiVhTFh57dtEpE92HU4jsYXZ2aj8puIP6IXbyDG18vr7Qs1sCfdtT7ziXrv31BIIahn6HKZLtVf/fus2NIyO7f2zl+b34In4dM="</span>
-d <span class="s1">'{
  "payer": {
    "payment_method": "CREDIT_CARD",
    "bank_code": "CCB",
    "payer_info": {
      "bankCard": {
        "phone": "15210838198"
      }
    }
  },
  "order": {
    "mer_reference_id": "20170411543977",
    "mer_date": "20170410",
    "amount": {
      "total": "100.02",
      "currency": "USD"
    },
    "order_summary": "maimaimai",
    "expire_time ": "360",
    "sub_orders": [
      {
        "mer_sub_reference_id": "04115439771",
        "amount": {
          "total": "50.02",
          "currency": "USD"
        },
        "trans_code": "01121990",
        "sub_trans_type": "1",
        "is_customs": "TRUE",
        "items": [
          {
            "mer_item_id": "041154397711",
            "type": "FOOD",
            "name": "yifu1",
            "description": "yifu1",
            "item_quantity": "2",
            "amount": {
              "total": "30.02",
              "currency": "USD"
            }
          },
          {
            "mer_item_id": "041154397712",
            "type": "ELECTRONIC",
            "name": "yifu2",
            "description": "yifu2",
            "item_quantity": "3",
            "amount": {
              "total": "20.00",
              "currency": "USD"
            }
          }
        ]
      },
      {
        "mer_sub_reference_id": "04115439772",
        "amount": {
          "total": "50.00",
          "currency": "USD"
        },
        "trans_code": "03223010",
        "sub_trans_type": "3"
      }
    ]
  },
  "notify_url": "http://10.10.81.127:8080/spay_rest/payments/test/mer",
  "risk_info": {
    "trans_type": "02",
    "goods_type": "1",
    "real_name": "0",
    "business_type": "Y"
  }
}'</span>

</code></pre>
            <p><strong>POST</strong>: /payments/payment</p>

            <p>Creates a payment to be execute later or execute right now, it depends on the payment type.</p>

            <p>The following table shows the payement types that UMF support, All the payment must pay by RMB(Chinese Yuan):</p>

            <table>
                <thead>
                    <tr>
                        <th>Payment Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Credit Card</td>
                        <td>Pay by credit card</td>
                    </tr>
                    <tr>
                        <td>Debit Card</td>
                        <td>Pay by debit card</td>
                    </tr>
                    <tr>
                        <td>WeChat QRCode</td>
                        <td>UMF return a QR-Code String. The customer may use their wechat scan the QR-Code to pay.</td>
                    </tr>
                    <tr>
                        <td>WeChat Offical Account</td>
                        <td>The customer may pay the order inside the wechat browser.</td>
                    </tr>
                    <tr>
                        <td>WeChat APP</td>
                        <td>The customer may pay the order inside a native app.</td>
                    </tr>
                    <tr>
                        <td>AliPay QRCode</td>
                        <td>UMF return a QR-Code String. The customer may use their wechat scan the QR-Code to pay.</td>
                    </tr>
                    <tr>
                        <td>Protocol ID</td>
                        <td>This id present the payment information. The merchant can use this id to pay the order. Payment information include card_no, user name, phone, cvv2, etc. Same card in different merchant have different protocol id.</td>
                    </tr>
                </tbody>
            </table>

            <p>Parameters:</p>

            <table>
                <thead>
                    <tr>
                        <th>parameters</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>payer</td>
                        <td>Object. The payment information.</td>
                    </tr>
                    <tr>
                        <td>order</td>
                        <td>Object. The order information. Includes sub orders.</td>
                    </tr>
                    <tr>
                        <td>notify_url</td>
                        <td>String. Url of the merchant server. To receive the payment result.</td>
                    </tr>
                </tbody>
            </table>

            <p>Response:</p>

            <table>
                <thead>
                    <tr>
                        <th>parameters</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>payer</td>
                        <td>Object. The payment information.</td>
                    </tr>
                    <tr>
                        <td>order</td>
                        <td>Object. The order information. Includes sub orders.</td>
                    </tr>
                    <tr>
                        <td>notify_url</td>
                        <td>String. Url of the merchant server. To receive the payment result.</td>
                    </tr>
                    <tr>
                        <td>links</td>
                        <td>Object Array. The next step links. Depents on the status and payment type. Those links are HATEOAS links.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-4-sms-verification">3.4 SMS verification</h2>
            <pre class="highlight json tab-json"><code><span class="err">Request</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"payer_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"bankCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRP7vS5yHoMa3V1vWIn4fJlZTPVGmuxWRyoGqQIrAyqJVfYk03sEwVwktg1IyQjHqexQt71Qv1hCszQqKR68YKShomMg9cHcTu3f3hYWebDPCE6QmW+++br6B/Dcprzz9KI+CDHSdIEP6uR7z0bTFeaC+pZS3L/DuqDG/C4Swp8="</span><span class="p">,</span><span class="w">
        </span><span class="s2">"citizen_id_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qXhTKG5nkeEC10GHiPiV3iqkMHawRpWXQ0ln3b+RxfRQKBeea+Ex9XiPSrxF/VORuMHA2xOFI4dFDVRZnlihNkbCNlmK14RkP4GjPyLqvowLtGFc9VxHs16aDUnNf35G2GK8D8+V2xNSRqItsjpaHDU+KPfcHTp/juBxv5Zwb4Y="</span><span class="p">,</span><span class="w">
        </span><span class="s2">"citizen_id_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lb3812wHxk6tC8H3/7Un5HubqhDv76D7JGne/DwDVoJjqSe+lW+A7TrhJGzL+M87dfz0BM1gf37kLDKPyY0yVUY26z7pBB8/sruygg78mBp8rm2m5XSn2k5h8OzIzjjms7XoVeRifVy+8eR4HjOQJZ5Pyo21WAhYWVx0G4OAdTc="</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15012345678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BcF2VPrCmMZoZo1ui4MRPgh1/OPFsNl7rgZCCMvG7wYbKV7vk5bNtreGlz84+0Fzs2osasev6e82CNvIuLTNGI57glEWkX4JG0rpuHh3+IOW8CgsCaPfhDWErtZW2QQKfNlWn0dE+B/Ail700Psxndzo+FIT5S+s/DDssPGY3uY="</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cvv2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OoClPlildcQa0C6OVNRM/XjJ7LFJyiNBhR9bFzMxQ9VtwJyH6S+KRvYDKCScO2joNdBGGd3fcjv+uv7c56CQYTwRoiHe9NwCrZph+QB0NZtR85XHegUEebvszSJPqzuwLoGmOxCu5XEbVovMAOE0mkXDNIDQ6lT86kZhlwoWJ7A="</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mer_cust_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"payerAgreement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"agreement_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"busi_agreement_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight json tab-json"><code><span class="err">Response</span><span class="p">:</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pyuLSLDsZJPkOTl55l6zIplOil2uRIkeWv0RGzHQQl7Sov96oGvFsolUmuMLbEYRbhp9CedIi+liuFPeFzb9ycafWE59hp792yK3E8dbrjEvmYout5denFGWEOeCKUeKj1pE96FF0MCjrdkdKf6Zlh+LmhLI9as6PV7P+e4IDL0="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ret_msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ret_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://10.10.77.79:8081/V1/spay_rest/payments/payment/PAY_AAGSRXVMGCDZOAJTY2VD2/query?mer_reference_id=20170411543977&amp;mer_date=20170410"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirm"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://10.10.77.79:8081/V1/spay_rest/payments/payment/PAY_AAGSRXVMGCDZOAJTY2VD2/execute"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>curl -v -X POST https://uatfx.soopay.net/v1/oauth/authorize <span class="se">\</span>
-H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
-H <span class="s2">"Authorization=Bearer ea3b83b316d97bd78166475fe36a3f7219d79e8d04bfc784dec424fba0e9462f"</span> <span class="se">\</span>
-H  <span class="s2">"Signature=qJIC9lz/1TIjEe5rw2Wj8YfvBX3RHyICWNCRmusOu4EeCBcDYNJlWgZCo2/1V1FnZg2alfwSlIAzHetqsEIdDfqy2tlxJriBr7VIIjM3/e9n7TOKGoiHDPuC2/U82xlQUFi8ua/3kv0o7eTVbKLDr1LacEFWFWWy3RpXFFa57SA="</span> <span class="se">\</span>
-d <span class="s1">'{
  "payer": {
    "payer_info": {
      "bankCard": {
        "number": "TRP7vS5yHoMa3V1vWIn4fJlZTPVGmuxWRyoGqQIrAyqJVfYk03sEwVwktg1IyQjHqexQt71Qv1hCszQqKR68YKShomMg9cHcTu3f3hYWebDPCE6QmW+++br6B/Dcprzz9KI+CDHSdIEP6uR7z0bTFeaC+pZS3L/DuqDG/C4Swp8=",
        "citizen_id_number": "qXhTKG5nkeEC10GHiPiV3iqkMHawRpWXQ0ln3b+RxfRQKBeea+Ex9XiPSrxF/VORuMHA2xOFI4dFDVRZnlihNkbCNlmK14RkP4GjPyLqvowLtGFc9VxHs16aDUnNf35G2GK8D8+V2xNSRqItsjpaHDU+KPfcHTp/juBxv5Zwb4Y=",
        "citizen_id_type": "1",
        "payer_name": "lb3812wHxk6tC8H3/7Un5HubqhDv76D7JGne/DwDVoJjqSe+lW+A7TrhJGzL+M87dfz0BM1gf37kLDKPyY0yVUY26z7pBB8/sruygg78mBp8rm2m5XSn2k5h8OzIzjjms7XoVeRifVy+8eR4HjOQJZ5Pyo21WAhYWVx0G4OAdTc=",
        "phone": "15012345678",
        "valid_date": "BcF2VPrCmMZoZo1ui4MRPgh1/OPFsNl7rgZCCMvG7wYbKV7vk5bNtreGlz84+0Fzs2osasev6e82CNvIuLTNGI57glEWkX4JG0rpuHh3+IOW8CgsCaPfhDWErtZW2QQKfNlWn0dE+B/Ail700Psxndzo+FIT5S+s/DDssPGY3uY=",
        "cvv2": "OoClPlildcQa0C6OVNRM/XjJ7LFJyiNBhR9bFzMxQ9VtwJyH6S+KRvYDKCScO2joNdBGGd3fcjv+uv7c56CQYTwRoiHe9NwCrZph+QB0NZtR85XHegUEebvszSJPqzuwLoGmOxCu5XEbVovMAOE0mkXDNIDQ6lT86kZhlwoWJ7A=",
        "mer_cust_id": ""
      },
      "payerAgreement": {
        "agreement_id": "",
        "busi_agreement_id": ""
      }
    }
  }
}'</span>

</code></pre>
            <p>This step is only available in bank card payment. Merchant send the bank card information, and UMF(or the bank) will send SMS to customer&rsquo;s phone. This SMS is part of the parameters of execute the payment.</p>

            <h3 id="request">Request</h3>

            <p><strong>POST</strong>:/payments/payment/payment_id/verify</p>

            <p>The payment_id in the url is the real payment id that created in the previous step(<a href="#Create_a_payment">Create a payment</a>).</p>

            <h3 id="parameters">Parameters</h3>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#payer">payer</a></td>
                        <td>Object. The payer information. Some parameters should be encrypted by UMPay public key. See the description of payer object.</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response just includes the links of next steps. See the example. If the request is vaild, the sms will be sent to customer&rsquo;s phone. </p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#meta">meta</a></td>
                        <td>object. The common information of response.</td>
                    </tr>
                    <tr>
                        <td><a href="#link">links</a></td>
                        <td>object array. The links of next steps.</td>
                    </tr>
                </tbody>
            </table>

            <p>Error Codes:</p>

            <table>
                <thead>
                    <tr>
                        <th>Return code</th>
                        <th>Description of return code</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>00060700</td>
                        <td>Fail to verify parameter (***illegal)</td>
                    </tr>
                    <tr>
                        <td>00200025</td>
                        <td>Information of the card is incorrect.</td>
                    </tr>
                    <tr>
                        <td>00200026</td>
                        <td>The card has expired.</td>
                    </tr>
                    <tr>
                        <td>00060999</td>
                        <td>The system is busy.</td>
                    </tr>
                    <tr>
                        <td>00080706</td>
                        <td>Acquire verification codes too many times within a minute.</td>
                    </tr>
                    <tr>
                        <td>00060875</td>
                        <td>Fail to validate the card bin (validation failure due to the incorrect card number)</td>
                    </tr>
                    <tr>
                        <td>00080707</td>
                        <td>The times for requesting the verification code for same order number exceeds the maximum.</td>
                    </tr>
                    <tr>
                        <td>00200027</td>
                        <td>The bank is not linked with the merchant on UMpay’s platform.</td>
                    </tr>
                    <tr>
                        <td>00060869</td>
                        <td>Merchant goods are not registered on UMpay platform.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-5-execute-a-payment">3.5 execute a payment</h2>

            <p>When you execute a payment, the transaction completes and moves money from the customer&rsquo;s account into your merchant account in UMF.</p>

            <p>To execute a payment, include the payment ID in the URI and include a payer object in the JSON body. </p>

            <p>The result of execute will not returned immediately. The merchant have two ways to get the execute result.</p>

            <p>&ndash; Make a payment query. If the state is &ldquo;TRADE_SUCCESS&rdquo;, then the execute was success. &ndash; Wait the notification from UMF. Merchant needs to write a http(s) service. UMF will call this service, when the payment have a
                result.
            </p>

            <h3 id="request">Request</h3>

            <p><strong>POST</strong>:/payments/payment/payment_id/execute</p>

            <p>The payment_id in the url is the real payment id that created in the previous step(<a href="#Create_a_payment">Create a payment</a>).</p>

            <h3 id="parameters">Parameters</h3>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#payer">payer</a></td>
                        <td>Object. The payer information. Some parameters should be encrypted by UMPay public key. See the description of payer object. If the pay_type is bank card. The verification code should be included in the payer object.</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response includes the payment object. But the bank card info will not be returned. Such as card number, cvv2, citizen_id, etc.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#meta">meta</a></td>
                        <td>object. The common information of response.</td>
                    </tr>
                    <tr>
                        <td><a href="#payment">payment</a></td>
                        <td>object. The payment object.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-6-payment-result-notification">3.6 Payment result notification</h2>

            <p>After processing the payment request data of the merchant, the platform will call merchant&rsquo;s service to nofify the payment result.</p>

            <p>Merchant should give a response after received the call.</p>

            <h3 id="request">Request</h3>

            <p>This request is called by UMF. The url is the merchant service url.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>trade_no</td>
                        <td>UMPay transaction number</td>
                    </tr>
                    <tr>
                        <td>order_id</td>
                        <td>Order number</td>
                    </tr>
                    <tr>
                        <td>mer_date</td>
                        <td>Merchant order date</td>
                    </tr>
                    <tr>
                        <td>pay_date</td>
                        <td>Payment date</td>
                    </tr>
                    <tr>
                        <td>amount</td>
                        <td>Transaction amount</td>
                    </tr>
                    <tr>
                        <td>currency</td>
                        <td>Transaction currency</td>
                    </tr>
                    <tr>
                        <td>cny_amount</td>
                        <td>Transaction amount in RMB</td>
                    </tr>
                    <tr>
                        <td>exchange_rate</td>
                        <td>Exchange rate</td>
                    </tr>
                    <tr>
                        <td>pay_type</td>
                        <td>Payment method</td>
                    </tr>
                    <tr>
                        <td>media_id</td>
                        <td>Media identification</td>
                    </tr>
                    <tr>
                        <td>media_type</td>
                        <td>Media type</td>
                    </tr>
                    <tr>
                        <td>settle_date</td>
                        <td>Reconciliation date</td>
                    </tr>
                    <tr>
                        <td>mer_priv</td>
                        <td>Merchant private field</td>
                    </tr>
                    <tr>
                        <td>trade_state</td>
                        <td>Transaction status</td>
                    </tr>
                    <tr>
                        <td>pay_seq</td>
                        <td>Bank statement</td>
                    </tr>
                    <tr>
                        <td>error_code</td>
                        <td>Transaction error code</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response is sent from merchant. </p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>order_id</td>
                        <td>Merchant unique order number</td>
                    </tr>
                    <tr>
                        <td>mer_date</td>
                        <td>Merchant order date</td>
                    </tr>
                    <tr>
                        <td>ret_code</td>
                        <td>Return code</td>
                    </tr>
                    <tr>
                        <td>ret_msg</td>
                        <td>Return message</td>
                    </tr>
                    <tr>
                        <td>mer_check_date</td>
                        <td>Merchant reconciliation date</td>
                    </tr>
                    <tr>
                        <td>mer_trace</td>
                        <td>Merchant processing statement</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-7-query-a-payment">3.7 Query a payment</h2>

            <p><strong>GET</strong>: payments/payment/payment_id</p>

            <p>The payment_id in the url is the real payment id that created in the previous step(<a href="#Create_a_payment">Create a payment</a>).</p>

            <p>Merchant may call this url anytime. UMF will return the payment object.</p>

            <h2 id="3-8-create-a-refund">3.8 Create a refund</h2>

            <p><strong>POST</strong>:/payments/payment/payment_id/refund</p>

            <p>The payment_id in the url is the real payment id that created in the previous step(<a href="#Create_a_payment">Create a payment</a>).</p>

            <p>This request creates a refund object. The reqeust send a refund object, and the response is the refund object that the UMF created.</p>

            <p>UMF supports full or partial refund. Partial refund can be made multi times.</p>

            <p>The refund must be the same currency with the payment and the refund amount must be no more than the total amount.</p>

            <h3 id="parameters">Parameters</h3>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#refund">refund</a></td>
                        <td>Object. The refund object. The order, amount and nofify_url should be filled.</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="response">Response</h3>

            <p>The response includes the refund object. The returned refund object has refund_id and state. </p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#meta">meta</a></td>
                        <td>object. The common information of response.</td>
                    </tr>
                    <tr>
                        <td><a href="#refund">refund</a></td>
                        <td>object. The refund object.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="3-9-query-refund">3.9 Query refund</h2>

            <p><strong>GET</strong>: /payments/refund/refund_id</p>

            <p>The refund_id in the url is the real payment id that created in the previous step(<a href="#create_a_refund">create a refund</a>).</p>

            <p>Merchant may call this url anytime. UMF will return the refund object. If the state is &ldquo;REFUND_SUCCESS&rdquo;, the refund is succeed.</p>

            <h2 id="3-10-create-cumtoms-clearance">3.10 Create cumtoms clearance</h2>

            <p><strong>POST</strong>: /payments/payment/payment_id/apply_to_customs</p>

            <p>This interface is optional. When merchant need UMF commit the payment information to a Customs, this interface will be called. As soon as the merchant call this url, the payment information will be sent to the cumstoms system. </p>

            <p>The merchant provides the declaration data of sub-order to the platform within 1 month after placing an order, and the platform updates the declaration data to customs system of the sub-order after receiving it. </p>

            <h3 id="request">Request</h3>

            <p>The request include a <a href="#customs_declaration">customs_declaration</a> object. </p>

            <h3 id="response">Response</h3>

            <p>The response will include a customs_declaration object and meta information.</p>

            <h2 id="3-11-query-customs-clearance-status">3.11 Query customs clearance status</h2>

            <p><strong>GET</strong>: payments/customs_ declarations/customs_declaration_id</p>

            <p>The customs_ declaration_id in the url is the id of customs_declaration object which created in the previous step(<a href="#Create_cumtoms_clearance">Create cumtoms clearance</a>).</p>

            <h2 id="3-12-download-transaction-list">3.12 Download transaction list</h2>

            <p>TODO</p>

            <h2 id="3-13-download-statement">3.13 Download statement</h2>

            <p>TODO</p>

            <h2 id="3-14-query-exchange-rate">3.14 Query exchange rate</h2>

            <p><strong>GET</strong>: /exchange_rate?currency=USD</p>

            <p>Get the real-time exchange rate. The returned information is the corresponding amount of RMB.</p>

            <h3 id="request">Request</h3>

            <p>The parameter is currency which is <a href="Currency_codes">the code of currency</a>.</p>

            <h3 id="response">Response</h3>

            <p>The response will include a <a href="#exchange_rate">exchange_rate</a> object and meta information.</p>

            <h2 id="3-15-notification">3.15 Notification</h2>

            <p>This interface is a common interface. All the payment, refund and customs_declaration request will not get the result in the response. The result will be notified by UMF when the things done. So the merchant has to provide a service to receive
                the notification, and give the right response.</p>

            <h3 id="request">Request</h3>

            <p>The request is sent by UMF server. The request url is the notify_url in each object.</p>

            <p>The request content is JSON format. It is the json object depend on which object needs to be notified. The object maybe a payment object, or a refund object, or a customs_declaration object.</p>

            <h3 id="response">Response</h3>

            <p>The response will include a meta information and the object that merchant received. The object does not need to set all the values. What UMF needs is the object id.</p>

            <h1 id="4-object-definitions">4. Object Definitions</h1>

            <h2 id="address">address</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>recipient_name</td>
                        <td>The name of recipient.</td>
                    </tr>
                    <tr>
                        <td>line1</td>
                        <td>The first line of the address. For example, number, street, and so on. Maximum length is 100 characters.</td>
                    </tr>
                    <tr>
                        <td>line2</td>
                        <td>The second line of the address. For example, suite, apartment number, and so on. Maximum length is 100 characters.</td>
                    </tr>
                    <tr>
                        <td>city</td>
                        <td>The city name. Maximum length is 50 characters.</td>
                    </tr>
                    <tr>
                        <td>state</td>
                        <td>The two-letter code for US states or the equivalent for other countries. Maximum length is 100 characters.</td>
                    </tr>
                    <tr>
                        <td>country_code</td>
                        <td><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements">The two-character country code</a></td>
                    </tr>
                    <tr>
                        <td>postal_code</td>
                        <td>The zip code or equivalent. Typically required for countries that have them. Maximum length is 20 characters.Required in certain countries.</td>
                    </tr>
                    <tr>
                        <td>phone</td>
                        <td>The phone number, Maximum length is 50 characters.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="amount">amount</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>total</td>
                        <td>The total amount charged to the payee by the payer. For refunds, represents the amount that the payee refunds to the original payer. Maximum length is 10 characters. Supports two decimal places.</td>
                    </tr>
                    <tr>
                        <td>currency</td>
                        <td>The three-character ISO-4217 https://en.wikipedia.org/wiki/ISO_4217#Active_codes currency code.</td>
                    </tr>
                    <tr>
                        <td>total_cny</td>
                        <td>The amount in CNY(Chinese Yuan). <strong>Optional</strong>.</td>
                    </tr>
                    <tr>
                        <td>exchange_rate</td>
                        <td>The exchange_rate. <strong>Optional</strong>.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="bank">bank</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>name</td>
                        <td>The full name of bank.</td>
                    </tr>
                    <tr>
                        <td>code</td>
                        <td>The abbreviation of bank. Available in China.</td>
                    </tr>
                    <tr>
                        <td>types</td>
                        <td>The bank types are supported by the bank. Allowed values: <strong>CREDIT_CARD</strong>, <strong>DEBIT_CARD</strong></td>
                    </tr>
                </tbody>
            </table>

            <h3 id="banks-supported-by-credit-card-payment">Banks supported by credit card payment</h3>

            <table>
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Bank code</th>
                        <th>Bank</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>ICBC</td>
                        <td>Industrial and Commercial Bank of China</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>CCB</td>
                        <td>China Construction Bank</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>ABC</td>
                        <td>Agricultural Bank of China</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>BOC</td>
                        <td>Bank of China</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>PSBC</td>
                        <td>Postal Savings Bank of China</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>COMM</td>
                        <td>Bank of Communications</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>CITIC</td>
                        <td>China Citic Bank</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>CEB</td>
                        <td>China Everbright Bank</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>HXB</td>
                        <td>Hua Xia Bank</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>CMBC</td>
                        <td>China Minsheng Bank</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>CMB</td>
                        <td>China Merchants Bank</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>SHB</td>
                        <td>Bank of Shanghai</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>BJB</td>
                        <td>Bank of Beijing</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>BEA</td>
                        <td>Bank of East Asia</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>CIB</td>
                        <td>China Industrial Bank</td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td>NBB</td>
                        <td>Bank of Ningbo</td>
                    </tr>
                    <tr>
                        <td>17</td>
                        <td>SPDB</td>
                        <td>Shanghai Pudong Development Bank</td>
                    </tr>
                    <tr>
                        <td>18</td>
                        <td>GDB</td>
                        <td>Guangdong Development Bank</td>
                    </tr>
                    <tr>
                        <td>19</td>
                        <td>SPAB</td>
                        <td>Ping An Bank</td>
                    </tr>
                    <tr>
                        <td>20</td>
                        <td>BSB</td>
                        <td>Baoshang Bank</td>
                    </tr>
                    <tr>
                        <td>21</td>
                        <td>CSCB</td>
                        <td>Bank of Changsha</td>
                    </tr>
                    <tr>
                        <td>22</td>
                        <td>CDB</td>
                        <td>Bank of Chengde</td>
                    </tr>
                    <tr>
                        <td>23</td>
                        <td>CDRCB</td>
                        <td>Chengdu Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>24</td>
                        <td>CRCB</td>
                        <td>Chongqing Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td>CQB</td>
                        <td>Bank of Chongqing</td>
                    </tr>
                    <tr>
                        <td>26</td>
                        <td>DLB</td>
                        <td>Bank of Dalian</td>
                    </tr>
                    <tr>
                        <td>27</td>
                        <td>DYCCB</td>
                        <td>Dongying Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>28</td>
                        <td>ORBANK</td>
                        <td>Erdos Bank</td>
                    </tr>
                    <tr>
                        <td>29</td>
                        <td>FJNXB</td>
                        <td>Rural Credit Cooperative of Fujian</td>
                    </tr>
                    <tr>
                        <td>30</td>
                        <td>GYB</td>
                        <td>Bank of Guiyang</td>
                    </tr>
                    <tr>
                        <td>31</td>
                        <td>GCB</td>
                        <td>Bank of Guangzhou</td>
                    </tr>
                    <tr>
                        <td>32</td>
                        <td>GRCB</td>
                        <td>Guangzhou Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>33</td>
                        <td>HEBB</td>
                        <td>Harbin Bank</td>
                    </tr>
                    <tr>
                        <td>34</td>
                        <td>HNNXB</td>
                        <td>Rural Credit Cooperative of Hunan</td>
                    </tr>
                    <tr>
                        <td>35</td>
                        <td>HSB</td>
                        <td>Huishang Bank</td>
                    </tr>
                    <tr>
                        <td>36</td>
                        <td>BHB</td>
                        <td>Bank of Hebei</td>
                    </tr>
                    <tr>
                        <td>37</td>
                        <td>HZCB</td>
                        <td>Bank of Hangzhou</td>
                    </tr>
                    <tr>
                        <td>38</td>
                        <td>BOJZ</td>
                        <td>Bank of Jinzhou</td>
                    </tr>
                    <tr>
                        <td>39</td>
                        <td>CSRCB</td>
                        <td>Jiangsu Changshu Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>40</td>
                        <td>JSB</td>
                        <td>Bank of Jiangsu</td>
                    </tr>
                    <tr>
                        <td>41</td>
                        <td>JRCB</td>
                        <td>Jiangyin Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>42</td>
                        <td>JJCCB</td>
                        <td>Bank of Jiujiang</td>
                    </tr>
                    <tr>
                        <td>43</td>
                        <td>LZB</td>
                        <td>Bank of Lanzhou</td>
                    </tr>
                    <tr>
                        <td>44</td>
                        <td>DAQINGB</td>
                        <td>Bank of Longjiang</td>
                    </tr>
                    <tr>
                        <td>45</td>
                        <td>QHB</td>
                        <td>Bank of Qinghai</td>
                    </tr>
                    <tr>
                        <td>46</td>
                        <td>SHRCB</td>
                        <td>Shanghai Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>47</td>
                        <td>SRB</td>
                        <td>Bank of Shangrao</td>
                    </tr>
                    <tr>
                        <td>48</td>
                        <td>SDEB</td>
                        <td>Shunde Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>49</td>
                        <td>TZCB</td>
                        <td>Bank of Taizhou</td>
                    </tr>
                    <tr>
                        <td>50</td>
                        <td>WHSHB</td>
                        <td>Weihai City Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>51</td>
                        <td>WFCCB</td>
                        <td>Bank of Weifang</td>
                    </tr>
                    <tr>
                        <td>52</td>
                        <td>WZCB</td>
                        <td>Bank of Wenzhou</td>
                    </tr>
                    <tr>
                        <td>53</td>
                        <td>URMQCCB</td>
                        <td>Urumqi City Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>54</td>
                        <td>WRCB</td>
                        <td>Wuxi Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>55</td>
                        <td>YCCB</td>
                        <td>Yichang City Commercial Banks</td>
                    </tr>
                    <tr>
                        <td>56</td>
                        <td>YZB</td>
                        <td>Bank of Yinzhou</td>
                    </tr>
                    <tr>
                        <td>57</td>
                        <td>CZCB</td>
                        <td>Zhejiang Chouzhou Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>58</td>
                        <td>ZJTLCB</td>
                        <td>Zhejiang Tailong Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>59</td>
                        <td>MTBANK</td>
                        <td>Zhejiang Mintai Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>60</td>
                        <td>NJCB</td>
                        <td>Bank of Nanjing</td>
                    </tr>
                    <tr>
                        <td>61</td>
                        <td>NCB</td>
                        <td>Bank of Nanchang</td>
                    </tr>
                    <tr>
                        <td>62</td>
                        <td>QLBANK</td>
                        <td>Qilu Bank</td>
                    </tr>
                    <tr>
                        <td>63</td>
                        <td>YDRCB</td>
                        <td>Yaodu Rural Commercial Bank</td>
                    </tr>
                    <tr>
                        <td>64</td>
                        <td>WJRCB</td>
                        <td>Wujiang Rural Commercial Bank</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="banks-supported-by-debit-card-payment">Banks supported by debit card payment</h3>

            <table>
                <thead>
                    <tr>
                        <th>NO.</th>
                        <th>Bank code</th>
                        <th>Bank</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>SPDB</td>
                        <td>Shanghai Pudong Development Bank</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>CCB</td>
                        <td>China Construction Bank</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>ABC</td>
                        <td>Agricultural Bank of China</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>BOC</td>
                        <td>Bank of China</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>CITIC</td>
                        <td>China Citic Bank</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>CEB</td>
                        <td>China Everbright Bank</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>CMB</td>
                        <td>China Merchants Bank</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>ICBC</td>
                        <td>Industrial and Commercial Bank of China</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>CMBC</td>
                        <td>China Minsheng Bank</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>GDB</td>
                        <td>Guangdong Development Bank</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>COMM</td>
                        <td>Bank of Communications</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>SPAB</td>
                        <td>Ping An Bank</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>HXB</td>
                        <td>Hua Xia Bank</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>PSBC</td>
                        <td>Postal Savings Bank of China</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>CIB</td>
                        <td>China Industrial Bank</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="bank_card">bank_card</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>number</td>
                        <td>String. <strong>need to be encrypted</strong>. The bank card number.</td>
                    </tr>
                    <tr>
                        <td>valid_date</td>
                        <td>String. <strong>need to be encrypted</strong>. The valid date of bank card.</td>
                    </tr>
                    <tr>
                        <td>cvv2</td>
                        <td>String. <strong>need to be encrypted</strong>. CVV2 of bank card.</td>
                    </tr>
                    <tr>
                        <td>card_holder</td>
                        <td>String. <strong>need to be encrypted</strong>. The name of card holder</td>
                    </tr>
                    <tr>
                        <td>external_customer_id</td>
                        <td>String. The customer id in merchant system.</td>
                    </tr>
                    <tr>
                        <td>state</td>
                        <td>ENUM. The state of bank card.</td>
                    </tr>
                    <tr>
                        <td>citizen_id_type</td>
                        <td>String. The type of citizen id. Currently, it must be IDENTITY_CARD</td>
                    </tr>
                    <tr>
                        <td>citizen_id_number</td>
                        <td>String. <strong>need to be encrypted</strong>. The number of citizen id.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="customs_declaration">customs_declaration</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>String. Id of object.</td>
                    </tr>
                    <tr>
                        <td>sub_order</td>
                        <td>Object. The sub_order object.</td>
                    </tr>
                    <tr>
                        <td>customs_id</td>
                        <td>The customs channel number during customs declaration (such as HZ, NB and GZ respectively represents for Hangzhou, Ningbo and Guangzhou)</td>
                    </tr>
                    <tr>
                        <td>mer_customs_code</td>
                        <td>The merchant id in customs</td>
                    </tr>
                    <tr>
                        <td>freight_amount</td>
                        <td>Object. Amount object. Freight payment</td>
                    </tr>
                    <tr>
                        <td>tax_amount</td>
                        <td>Object. Amount object. Customs tax.</td>
                    </tr>
                    <tr>
                        <td>ec_plat_id</td>
                        <td>File numbr of E-commerce platform</td>
                    </tr>
                    <tr>
                        <td>notify_url</td>
                        <td>The url of merchant service. To receive the notification from UMF.</td>
                    </tr>
                    <tr>
                        <td>state</td>
                        <td>ACCEPTED - 未报送 <br /> SUBMITED - 已报送待处理 <br /> SUCCESS - 成功 <br /> FAIL - 失败</td>
                    </tr>
                    <tr>
                        <td>customs_clearance_date</td>
                        <td>request customs date format is yyyymmdd.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="exchange_rate">exchange_rate</h2>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>currency</td>
                        <td>ENUM. The code of currency.</td>
                    </tr>
                    <tr>
                        <td>rate</td>
                        <td>String. The exchange rate.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="item">item</h2>

            <p>Item is the information of same goods in a sub_order object.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>mer_item_id</td>
                        <td>String. The id in merchant system.</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>ENUM. The type of goods. <strong>CLOTHING</strong>, <strong>FOOD</strong>, <strong>ELECTRONIC</strong>, <strong>OTHER</strong>.</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>String. The goods name.</td>
                    </tr>
                    <tr>
                        <td>description</td>
                        <td>String. The description of goods.</td>
                    </tr>
                    <tr>
                        <td>amount</td>
                        <td>Object. The amount object. The price of goods.</td>
                    </tr>
                    <tr>
                        <td>quantity</td>
                        <td>Number. The quantity of goods.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="link">link</h2>

            <p>The link object is a part of payment object, refund object. It is the available next step of those object. The links is different depends on the state of main object.</p>

            <h2 id="meta">meta</h2>

            <p>The meta object is one of the part of each response. It include the common informations of response.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ret_code</td>
                        <td>The return code of current response.</td>
                    </tr>
                    <tr>
                        <td>ret_msg</td>
                        <td>The message of current response.</td>
                    </tr>
                    <tr>
                        <td>sign</td>
                        <td>The signature of current response. The receiver should verify the signature by UMF public key.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="order">order</h2>

            <p>The order information. The detail information of order items must in the sub_order object. </p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#amount">amount</a></td>
                        <td>Object. The total amount of an order.</td>
                    </tr>
                    <tr>
                        <td>order_summary</td>
                        <td>String. The summary of an order.</td>
                    </tr>
                    <tr>
                        <td>mer_reference_id</td>
                        <td>String. The id of order. The same order id of a merchant will pay only once.</td>
                    </tr>
                    <tr>
                        <td>mer_date</td>
                        <td>String. The date of order. This time will show as-is in the statement.</td>
                    </tr>
                    <tr>
                        <td>expire_time</td>
                        <td>String. The deadline of payment. If the time expires, current order will refuse to pay by UMF.</td>
                    </tr>
                    <tr>
                        <td>sub_orders</td>
                        <td>Object Array. The array of sub_order objects. Each sub_order can only have same type goods.</td>
                    </tr>
                    <tr>
                        <td>state</td>
                        <td>ENUM. The state of order.</td>
                    </tr>
                    <tr>
                        <td>user_ip</td>
                        <td>String. This is the ip address when a customer make a payment request.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="payer">payer</h2>

            <p>The information of payer.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>payment_method</td>
                        <td>Enum. The payment method. Value is:<br />- CREDIT_CARD <br /> - DEBIT_CARD <br /> - WECHAT_PAY <br /> - ALIPAY</td>
                    </tr>
                    <tr>
                        <td><a href="#bank">bank_code</a></td>
                        <td>String. The abbreviation of bank. Available in China. See [bank]</td>
                    </tr>
                    <tr>
                        <td><a href="#payer_info">payer_info</a></td>
                        <td>Object. The information of payer.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="payer_agreement">payer_agreement</h2>

            <p>Payer agreement represent a bank card of the customer. Merchant may use this object instead of bank_card object for the security reason.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>usr_busi_agreement_id</td>
                        <td>This id is a unique ID for each user of a merchant.</td>
                    </tr>
                    <tr>
                        <td>usr_pay_agreement_id</td>
                        <td>This id is a unique ID for each bank card of a usr_busi_agreement_id.</td>
                    </tr>
                    <tr>
                        <td>gate_id</td>
                        <td>The bank code.</td>
                    </tr>
                    <tr>
                        <td>last_four_cardid</td>
                        <td>The last for bank card number.</td>
                    </tr>
                    <tr>
                        <td>valid_date</td>
                        <td>The valid date of bank card.</td>
                    </tr>
                    <tr>
                        <td>cvv2</td>
                        <td>The CVV2 of bank card.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="payer_info">payer_info</h2>

            <p>The pay info of customer.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>phone</td>
                        <td>String. The payer&rsquo;s phone number.</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>String. The abbreviation of bank. Available in China. See [bank]</td>
                    </tr>
                    <tr>
                        <td>pay elements object</td>
                        <td>Object. The name of this parts is different, depends on the payment_method. It can be the following objects.<br /> <a href="#bank_card">bank_card</a> <br /> <a href="#wechat_scan">wechat_scan</a> <br /> <a href="#wechat_app">wechat_app</a>                            <br /> <a href="#wechat_browser">wechat_browser</a> <br /> <a href="#wechat_scan">wechat_scan</a><br /> <a href="#alipay_scan">alipay_scan</a> <br /> <a href="#payer_agreement">payer_agreement</a></td>
                    </tr>
                    <tr>
                        <td>verify_code</td>
                        <td>String. Only avaliable in bank_card payment. The bank should send a verification code to customer. This verification code will be commited to bank to prevent fraud.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="payment">payment</h2>

            <p>Payment object is the core concept of this API. A payment object is a bill needs to pay. It has the following informations:</p>

            <table>
                <thead>
                    <tr>
                        <th>parameters</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>payment_id</td>
                        <td>The id of payment object.</td>
                    </tr>
                    <tr>
                        <td>payer</td>
                        <td>Object. The payment information.</td>
                    </tr>
                    <tr>
                        <td>order</td>
                        <td>Object. The order information. Includes sub orders.</td>
                    </tr>
                    <tr>
                        <td>notify_url</td>
                        <td>String. Url of the merchant server. To receive the payment result.</td>
                    </tr>
                    <tr>
                        <td>links</td>
                        <td>Object Array. The next step links. Depents on the status and payment type. Those links are HATEOAS links.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="refund">refund</h2>

            <p>Refund object depends on a payment object. One payment may connect many refund object. Which means one payment can be refund multi times. The sum of amount of refund objects must be no more that the amount of payment object. It has the following
                informations.
            </p>

            <table>
                <thead>
                    <tr>
                        <th>parameters</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>String. The id of refund object.</td>
                    </tr>
                    <tr>
                        <td>order</td>
                        <td>Object. It is a order object which include the goods info of refund.</td>
                    </tr>
                    <tr>
                        <td>notify_url</td>
                        <td>String. The merchant service url. Url of the merchant server. To receive the refund result.</td>
                    </tr>
                    <tr>
                        <td>state</td>
                        <td>String. The state of refund object.</td>
                    </tr>
                    <tr>
                        <td>parent_payment</td>
                        <td>String. The id of parent payment object.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="risk_info">risk_info</h2>

            <p>This object is the informations of transcation. UMF use those info to approve or deny the transaction. If the risk of fraud is high, this transaction will be deny. The fraud algorithm is changed by the rules we found.</p>

            <table>
                <thead>
                    <tr>
                        <th>Codes</th>
                        <th>Fields name</th>
                        <th>Data type</th>
                        <th>Field description</th>
                        <th>Send or not</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>B0002</td>
                        <td>Transaction type</td>
                        <td>String</td>
                        <td>01 Deposit, 02 Purchase</td>
                        <td>Y</td>
                    </tr>
                    <tr>
                        <td>B0003</td>
                        <td>Name of the recipient</td>
                        <td>String</td>
                        <td>When D0008 is either 1 or 3, it is required to send this Field.</td>
                        <td>C</td>
                    </tr>
                    <tr>
                        <td>B0004</td>
                        <td>Phone number of the recipient</td>
                        <td>String</td>
                        <td>When D0008 is either 1 or 3, it is required to send this Field.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Such as: 13800011111</td>
                        <td>C</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>B0005</td>
                        <td>Delivery address</td>
                        <td>String</td>
                        <td>When D0008 is either 1 or 3, it is required to send this Field.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>C</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>B0006</td>
                        <td>Registered email</td>
                        <td>String</td>
                        <td>Email of the customer used for registration, must be verified by the merchant</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>B0007</td>
                        <td>mobile phone number</td>
                        <td>String</td>
                        <td>Registrant mobile phone number</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>B0008</td>
                        <td>identity card number</td>
                        <td>String</td>
                        <td>Registrant identity card number,</td>
                        <td>When D0009 is 1, it is required to send this Field.</td>
                    </tr>
                    <tr>
                        <td>D0001</td>
                        <td>Device identification</td>
                        <td>String</td>
                        <td>For example, the MAC code of mobile phone or the terminal identification ID defined internally.</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>D0002</td>
                        <td>Type of Device</td>
                        <td>String</td>
                        <td>If from the Web terminal, the user shall not be blank. APP can be blank.</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>D0003</td>
                        <td>User ID</td>
                        <td>String</td>
                        <td>UserID at the merchant platform</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>D0004</td>
                        <td>User Registration time</td>
                        <td></td>
                        <td>String</td>
                        <td>The time that the user registers for the product, which shall be read exactly on the second.</td>
                    </tr>
                    <tr>
                        <td>Such as:20150311120000</td>
                        <td>N</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>D0005</td>
                        <td>Production form</td>
                        <td>String</td>
                        <td>1 - android app ; 2 - IOS app; 3- PC</td>
                        <td>(web page); 4 - Mobile phone</td>
                    </tr>
                    <tr>
                        <td>D0007</td>
                        <td>The number of successful transactions</td>
                        <td>String</td>
                        <td>The number of successful transactions on the merchant platform</td>
                        <td>N</td>
                    </tr>
                    <tr>
                        <td>D0008</td>
                        <td>Category of commodities</td>
                        <td>String</td>
                        <td>0: virtual goods, 1:physical goods, 2: air ticket, 3: electronics</td>
                        <td>Y</td>
                    </tr>
                    <tr>
                        <td>D0009</td>
                        <td>Real name purchase</td>
                        <td>String</td>
                        <td>0: not real name system, 1: real name system</td>
                        <td>Y</td>
                    </tr>
                    <tr>
                        <td>D0010</td>
                        <td>Category of business</td>
                        <td>String</td>
                        <td>3: Cross-border Payment</td>
                        <td>Y</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="statement">statement</h2>

            <p>TODO.</p>

            <h2 id="sub_order">sub_order</h2>

            <p>The same trans_code of goods should in the same sub_order object.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>mer_sub_reference_id</td>
                        <td>String. The id of sub_order object.</td>
                    </tr>
                    <tr>
                        <td>amount</td>
                        <td>Object. The amount of sub_order.</td>
                    </tr>
                    <tr>
                        <td>order_summary</td>
                        <td>String. The summary of sub_order.</td>
                    </tr>
                    <tr>
                        <td>trans_code</td>
                        <td>ENUM. The transaction of goods.</td>
                    </tr>
                    <tr>
                        <td>is_customs</td>
                        <td>bool. If the merchant needs UMF submit the payment information to cumtoms.</td>
                    </tr>
                    <tr>
                        <td>items</td>
                        <td>Object Array. The items in sub_orders.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="wechat-scan">wechat scan</h2>

            <p><strong>To be Done if phrase 2.</strong></p>

            <p>The UMF will return a url. The merchant use standard tool to make t QR-Code. When user scan this QR-Code by wechat, they can pay it by wechat.</p>

            <h2 id="wechat-app">wechat app</h2>

            <p><strong>To be Done if phrase 2.</strong></p>

            <p>The UMF will return all the information that wechat SDK required to active wechat and make a payment.</p>

            <h2 id="wechat-browser">wechat browser</h2>

            <p><strong>To be Done if phrase 2.</strong></p>

            <p>The UMF will return all the information that wechat html5 SDK required to active wechat payment in wechat browser.</p>

            <h2 id="alipay-scan">alipay scan</h2>

            <p><strong>To be Done if phrase 2.</strong></p>

            <p>The UMF will return a url. The merchant use standard tool to make t QR-Code. When user scan this QR-Code by Alipay, they can pay it by Alipay.</p>

            <h1 id="5-errors">5. Errors</h1>

            <aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&lsquo;s
                frontmatter. Files are included in the order listed.</aside>

            <p>The Kittn API uses the following error codes:</p>

            <table>
                <thead>
                    <tr>
                        <th>Error Code</th>
                        <th>Meaning</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request &ndash; Your request sucks</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized &ndash; Your API key is wrong</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Not Found &ndash; The specified kitten could not be found</td>
                    </tr>
                    <tr>
                        <td>405</td>
                        <td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
                    </tr>
                    <tr>
                        <td>406</td>
                        <td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
                    </tr>
                    <tr>
                        <td>410</td>
                        <td>Gone &ndash; The kitten requested has been removed from our servers</td>
                    </tr>
                    <tr>
                        <td>418</td>
                        <td>I&rsquo;m a teapot</td>
                    </tr>
                    <tr>
                        <td>429</td>
                        <td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
                    </tr>
                    <tr>
                        <td>503</td>
                        <td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
                    </tr>
                </tbody>
            </table>

            <h1 id="6-faqs">6. FAQs</h1>

            <p>To be done.</p>

            <h1 id="7-appendix">7. Appendix</h1>

            <h2 id="transaction-encoding-and-transaction-postscript-description">Transaction encoding and transaction postscript description</h2>

            <table>
                <thead>
                    <tr>
                        <th>Trading Codes</th>
                        <th>Types of trade</th>
                        <th>Transaction code</th>
                        <th>Transaction postscript</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>01121990</td>
                        <td>Goods trade</td>
                        <td>121990</td>
                        <td>Online Shopping (customs clearance)</td>
                    </tr>
                    <tr>
                        <td>01122030</td>
                        <td>Goods trade</td>
                        <td>122030</td>
                        <td>Online Shopping (no customs clearance)</td>
                    </tr>
                    <tr>
                        <td>02223022</td>
                        <td>Study Abroad</td>
                        <td>223022</td>
                        <td>Tuition travel for study abroad and education (above one year)</td>
                    </tr>
                    <tr>
                        <td>02223023</td>
                        <td>Study Abroad</td>
                        <td>223023</td>
                        <td>Tuition travel for study abroad and education (one year or less)</td>
                    </tr>
                    <tr>
                        <td>03222024</td>
                        <td>Air ticket</td>
                        <td>222024</td>
                        <td>Air ticket for going abroad</td>
                    </tr>
                    <tr>
                        <td>03223010</td>
                        <td>Air ticket</td>
                        <td>223010</td>
                        <td>Business trip air ticket</td>
                    </tr>
                    <tr>
                        <td>03223021</td>
                        <td>Air ticket</td>
                        <td>223021</td>
                        <td>Air ticket for receiving medical treatment and health examination</td>
                    </tr>
                    <tr>
                        <td>03223022</td>
                        <td>Air ticket</td>
                        <td>223022</td>
                        <td>Air ticket for study abroad and education (above one year)</td>
                    </tr>
                    <tr>
                        <td>03223023</td>
                        <td>Air ticket</td>
                        <td>223023</td>
                        <td>Air ticket for study abroad and education (one year or less)</td>
                    </tr>
                    <tr>
                        <td>03223029</td>
                        <td>Air ticket</td>
                        <td>223029</td>
                        <td>Other private travel air ticket</td>
                    </tr>
                    <tr>
                        <td>04223010</td>
                        <td>Hotel Booking</td>
                        <td>223010</td>
                        <td>Hotel for study abroad and education (one year or less)</td>
                    </tr>
                    <tr>
                        <td>04223021</td>
                        <td>Hotel Booking</td>
                        <td>223021</td>
                        <td>Other private travel hotel</td>
                    </tr>
                    <tr>
                        <td>04223022</td>
                        <td>Hotel Booking</td>
                        <td>223022</td>
                        <td>Business trip hotel</td>
                    </tr>
                    <tr>
                        <td>04223023</td>
                        <td>Hotel Booking</td>
                        <td>223023</td>
                        <td>Hotel for receiving medical treatment and health examination</td>
                    </tr>
                    <tr>
                        <td>04223029</td>
                        <td>Hotel Booking</td>
                        <td>223029</td>
                        <td>Hotel for study abroad and education (above one year)</td>
                    </tr>
                    <tr>
                        <td>05227010</td>
                        <td>Phone Bill</td>
                        <td>227010</td>
                        <td>Mobile telecommunications service</td>
                    </tr>
                    <tr>
                        <td>06223010</td>
                        <td>Travelling</td>
                        <td>223010</td>
                        <td>Business trip</td>
                    </tr>
                    <tr>
                        <td>06223021</td>
                        <td>Travelling</td>
                        <td>223021</td>
                        <td>Trip for receiving medical treatment and health</td>
                    </tr>
                    <tr>
                        <td>06223022</td>
                        <td>Travelling</td>
                        <td>223022</td>
                        <td>Study abroad and education (above one year)</td>
                    </tr>
                    <tr>
                        <td>06223023</td>
                        <td>Travelling</td>
                        <td>223023</td>
                        <td>Study abroad and education (one year or less)</td>
                    </tr>
                    <tr>
                        <td>06223029</td>
                        <td>Travelling</td>
                        <td>223029</td>
                        <td>Other private travelling</td>
                    </tr>
                    <tr>
                        <td>07222012</td>
                        <td>Transportation</td>
                        <td>222012</td>
                        <td>Ocean freight service (import to China)</td>
                    </tr>
                    <tr>
                        <td>07222022</td>
                        <td>Transportation</td>
                        <td>222022</td>
                        <td>Air freight service (import to China)</td>
                    </tr>
                    <tr>
                        <td>07222032</td>
                        <td>Transportation</td>
                        <td>222032</td>
                        <td>Other Freight service (import to China)</td>
                    </tr>
                    <tr>
                        <td>08227020</td>
                        <td>Software service</td>
                        <td>227020</td>
                        <td>Software service</td>
                    </tr>
                    <tr>
                        <td>08231030</td>
                        <td>Software service</td>
                        <td>231030</td>
                        <td>License fee for copying or distributing computer software</td>
                    </tr>
                    <tr>
                        <td>09228025</td>
                        <td>International exhibition</td>
                        <td>228025</td>
                        <td>Exhibition services</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="description-of-return-code">Description of return code</h2>

            <table>
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Return code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>0000</td>
                        <td>Successful</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>00060999</td>
                        <td>System error</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="description-of-transaction-error-code">Description of transaction error code</h2>

            <table>
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Error code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>00060700</td>
                        <td>Data validation failure.</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>00060710</td>
                        <td>Merchant signature validation failure.</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>00060711</td>
                        <td>Merchant has not registered.</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>00060720</td>
                        <td>Phone number is incorrect.</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>00060721</td>
                        <td>The user chose the online bank he or she does not have.</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>00060722</td>
                        <td>Please reselect the paying bank.</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>00060723</td>
                        <td>Wrong password, please re-enter.</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>00060724</td>
                        <td>Payment password was inputted incorrectly for more than three times, it means payment failure.</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>00060730</td>
                        <td>User account balance is insufficient, please deposit.</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>00060740</td>
                        <td>Fail to generate payment order.</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>00060750</td>
                        <td>Fail to pay.</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>00060751</td>
                        <td>Overtime pay is being reversed.</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>00060760</td>
                        <td>Payment order absent.</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>00060761</td>
                        <td>Orders are being paid. Please wait.</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>00060762</td>
                        <td>Order has expired, please re-order.</td>
                    </tr>
                    <tr>
                        <td>16</td>
                        <td>00060763</td>
                        <td>Orders have been closed.</td>
                    </tr>
                    <tr>
                        <td>17</td>
                        <td>00060764</td>
                        <td>Orders have not paid, please continue to pay.</td>
                    </tr>
                    <tr>
                        <td>18</td>
                        <td>00060765</td>
                        <td>Payment failure, please re-select the payment method.</td>
                    </tr>
                    <tr>
                        <td>19</td>
                        <td>00060766</td>
                        <td>No refund allowable.</td>
                    </tr>
                    <tr>
                        <td>20</td>
                        <td>00060767</td>
                        <td>Refund request failure.</td>
                    </tr>
                    <tr>
                        <td>21</td>
                        <td>00060768</td>
                        <td>Refund amount is inconsistent with the payment amount.</td>
                    </tr>
                    <tr>
                        <td>22</td>
                        <td>00060769</td>
                        <td>No withdrawal allowable.</td>
                    </tr>
                    <tr>
                        <td>23</td>
                        <td>00060770</td>
                        <td>Withdrawn amount is inconsistent with the payment amount.</td>
                    </tr>
                    <tr>
                        <td>24</td>
                        <td>00060022</td>
                        <td>ID number is not legitimate.</td>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td>00060076</td>
                        <td>Unsupported bank card account.</td>
                    </tr>
                    <tr>
                        <td>26</td>
                        <td>00060101</td>
                        <td>Bank card account has been registered.</td>
                    </tr>
                    <tr>
                        <td>27</td>
                        <td>00060100</td>
                        <td>User&rsquo;s phone number has been registered.</td>
                    </tr>
                    <tr>
                        <td>28</td>
                        <td>00060105</td>
                        <td>Real-name authentication failure.</td>
                    </tr>
                    <tr>
                        <td>29</td>
                        <td>00060114</td>
                        <td>Merchant permissions restricted.</td>
                    </tr>
                    <tr>
                        <td>30</td>
                        <td>00060310</td>
                        <td>The user does not subscribe the merchant protocol.</td>
                    </tr>
                    <tr>
                        <td>31</td>
                        <td>00060314</td>
                        <td>Unregistered user.</td>
                    </tr>
                    <tr>
                        <td>32</td>
                        <td>00060315</td>
                        <td>Inactive users.</td>
                    </tr>
                    <tr>
                        <td>33</td>
                        <td>00281017</td>
                        <td>Currencies unaccepted by the merchant.</td>
                    </tr>
                    <tr>
                        <td>34</td>
                        <td>00200005</td>
                        <td>SMS verification code not found.</td>
                    </tr>
                    <tr>
                        <td>35</td>
                        <td>00281017</td>
                        <td>Merchant does not have the privilege to use this currency.</td>
                    </tr>
                    <tr>
                        <td>36</td>
                        <td>00202012</td>
                        <td>Customs unavailable.</td>
                    </tr>
                    <tr>
                        <td>37</td>
                        <td>00202013</td>
                        <td>The customs information has been updated and shall not be updated again.</td>
                    </tr>
                    <tr>
                        <td>38</td>
                        <td>00202014</td>
                        <td>Whether the declaration at the customs is N, require for updating the customs information.</td>
                    </tr>
                    <tr>
                        <td>39</td>
                        <td>00202015</td>
                        <td>The cross-border sub-order absent.</td>
                    </tr>
                    <tr>
                        <td>40</td>
                        <td>00202016</td>
                        <td>The cross-border cargo information sheet absent.</td>
                    </tr>
                    <tr>
                        <td>41</td>
                        <td>00202000</td>
                        <td>The exchange rate quire response parameter error.</td>
                    </tr>
                    <tr>
                        <td>42</td>
                        <td>00202001</td>
                        <td>The foreign currency amount of order shall not be blank.</td>
                    </tr>
                    <tr>
                        <td>43</td>
                        <td>00202002</td>
                        <td>The foreign currency amount of order shall be integer.</td>
                    </tr>
                    <tr>
                        <td>44</td>
                        <td>00202003</td>
                        <td>The foreign currency amount of order shall be larger than 0.</td>
                    </tr>
                    <tr>
                        <td>45</td>
                        <td>00202005</td>
                        <td>Fail to update the order extension sheet.</td>
                    </tr>
                    <tr>
                        <td>46</td>
                        <td>00202006</td>
                        <td>Fail to update the order extension sheet - conversion ID type.</td>
                    </tr>
                    <tr>
                        <td>47</td>
                        <td>00202007</td>
                        <td>Fail to update the cross-border order extension sheet.</td>
                    </tr>
                    <tr>
                        <td>48</td>
                        <td>00202008</td>
                        <td>The cross-border order extension data absent.</td>
                    </tr>
                    <tr>
                        <td>49</td>
                        <td>00202009</td>
                        <td>The refund amount in the refund application is incorrect.</td>
                    </tr>
                    <tr>
                        <td>50</td>
                        <td>00202010</td>
                        <td>The refund amount in the refund application is inconsistent with the original order amount.</td>
                    </tr>
                    <tr>
                        <td>51</td>
                        <td>00202011</td>
                        <td>The currency in the refund application is inconsistent with the original order currency.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="transaction-status-description">Transaction status description</h2>

            <table>
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Enumeration name</th>
                        <th>Description</th>
                        <th>Note</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>WAIT_BUYER_PAY</td>
                        <td>Was accepted, waiting for the buyer to pay.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>TRADE_SUCCESS</td>
                        <td>The transaction is successful, cannot be traded again.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>TRADE_CLOSED</td>
                        <td>Transaction is closed since transaction is not completed within certain period.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>TRADE_CANCEL</td>
                        <td>Cancelled.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>TRADE_FAIL</td>
                        <td>Failed.</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>

            <h2 id="refund-status-description">Refund status description</h2>

            <table>
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Enumeration name</th>
                        <th>Description</th>
                        <th>Note</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>REFUND_SUCCESS</td>
                        <td>Refund succeeds.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>REFUND_CLOSE</td>
                        <td>Refund is closed.</td>
                        <td>Refund request is rejected.</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>REFUND_PROCESS</td>
                        <td>Refund in process.</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>REFUND_FAIL</td>
                        <td>Refund failed.</td>
                        <td>Technical issues caused.</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="currency-codes">Currency codes</h2>

            <table>
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Currency code</th>
                        <th>Currency description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>CNY</td>
                        <td>Ren Min Bi</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>HKD</td>
                        <td>Hong Kong dollar</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>USD</td>
                        <td>United States dollar</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>EUR</td>
                        <td>EURO</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>JPY</td>
                        <td>Japanese Yen</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>GBP</td>
                        <td>Pound</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>AUD</td>
                        <td>Australian dollar</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>CAD</td>
                        <td>Canadian dollar</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>NZD</td>
                        <td>New Zealand dollar</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>SGD</td>
                        <td>Singapore dollar</td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td>CHF</td>
                        <td>Swing Franc</td>
                    </tr>
                    <tr>
                        <td>13</td>
                        <td>SEK</td>
                        <td>Swedish Krona</td>
                    </tr>
                    <tr>
                        <td>14</td>
                        <td>DKK</td>
                        <td>Danish Kroner</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>NOK</td>
                        <td>Norwegian Krona</td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="dark-box">
            <div class="lang-selector">
                <a href="#" data-language-name="json">JSON</a>
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="csharp">C#</a>
            </div>
        </div>
    </div>
</body>

</html>